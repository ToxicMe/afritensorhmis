{% extends "base.html" %}
{% block content %}

<div class="max-w-7xl mx-auto mt-12 mb-12 bg-white shadow-md rounded-lg p-6 space-y-12">

    <h1 class="text-3xl font-bold text-center text-gray-800">
        Balance Sheet Summary
    </h1>

    <!-- ================= ASSETS ================= -->
    <section>

  
        <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">
            Assets ({{ categories.Assets|length }})
        </h2>

        <table class="min-w-full border text-sm">
            <thead class="bg-blue-600 text-white">
                <tr>
                    <th class="px-3 py-2 border">Account</th>
                    <th class="px-3 py-2 border text-right">Debit</th>
                    <th class="px-3 py-2 border text-right">Credit</th>
                    <th class="px-3 py-2 border text-right">Balance</th>
                </tr>
            </thead>
            <tbody>
                {% for acc in categories.Assets %}
                <tr>
                    <td class="border px-3 py-2">{{ acc.name }}</td>
                    <td class="border px-3 py-2 text-right">{{ acc.total_debit|floatformat:2 }}</td>
                    <td class="border px-3 py-2 text-right">{{ acc.total_credit|floatformat:2 }}</td>
                    <td class="border px-3 py-2 text-right font-semibold">{{ acc.computed_balance|floatformat:2 }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center py-3 text-gray-400">
                        No asset accounts
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="text-right font-semibold mt-2">
            Total Assets: KES {{ total_assets|floatformat:2 }}
        </div>
    </section>

    <!-- ================= LIABILITIES ================= -->
    <section>
        <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">
            Liabilities ({{ categories.Liabilities|length }})
        </h2>

        <table class="min-w-full border text-sm">
            <thead class="bg-blue-600 text-white">
                <tr>
                    <th class="px-3 py-2 border">Account</th>
                    <th class="px-3 py-2 border text-right">Debit</th>
                    <th class="px-3 py-2 border text-right">Credit</th>
                    <th class="px-3 py-2 border text-right">Balance</th>
                </tr>
            </thead>
            <tbody>
                {% for acc in categories.Liabilities %}
                <tr>
                    <td class="border px-3 py-2">{{ acc.name }}</td>
                    <td class="border px-3 py-2 text-right">{{ acc.total_debit|floatformat:2 }}</td>
                    <td class="border px-3 py-2 text-right">{{ acc.total_credit|floatformat:2 }}</td>
                    <td class="border px-3 py-2 text-right font-semibold">{{ acc.computed_balance|floatformat:2 }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center py-3 text-gray-400">
                        No liability accounts
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="text-right font-semibold mt-2">
            Total Liabilities: KES {{ total_liabilities|floatformat:2 }}
        </div>
    </section>

    <!-- ================= EQUITY ================= -->
    <section>
        <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">
            Equity ({{ categories.Equity|length }})
        </h2>

        <table class="min-w-full border text-sm">
            <thead class="bg-blue-600 text-white">
                <tr>
                    <th class="px-3 py-2 border">Account</th>
                    <th class="px-3 py-2 border text-right">Debit</th>
                    <th class="px-3 py-2 border text-right">Credit</th>
                    <th class="px-3 py-2 border text-right">Balance</th>
                </tr>
            </thead>
            <tbody>
                {% for acc in categories.Equity %}
                <tr>
                    <td class="border px-3 py-2">{{ acc.name }}</td>
                    <td class="border px-3 py-2 text-right">{{ acc.total_debit|floatformat:2 }}</td>
                    <td class="border px-3 py-2 text-right">{{ acc.total_credit|floatformat:2 }}</td>
                    <td class="border px-3 py-2 text-right font-semibold">{{ acc.computed_balance|floatformat:2 }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center py-3 text-gray-400">
                        No equity accounts
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="text-right font-semibold mt-2">
            Total Equity: KES {{ total_equity|floatformat:2 }}
        </div>
    </section>

</div>



{% endblock %}
