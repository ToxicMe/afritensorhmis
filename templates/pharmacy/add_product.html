{% extends "base.html" %}
{% block content %}

{% if messages %}
  <div class="my-4">
    {% for message in messages %}
      <div class="text-sm p-2 mb-2 rounded 
                  {% if message.tags == 'error' %}bg-red-100 text-red-700
                  {% elif message.tags == 'success' %}bg-green-100 text-green-700
                  {% elif message.tags == 'warning' %}bg-yellow-100 text-yellow-700
                  {% else %}bg-blue-100 text-blue-700{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

<div class="max-w-3xl mx-auto bg-white shadow-md rounded-lg p-6 mt-10">
  <h2 class="text-2xl font-bold mb-6 text-gray-700">Add New Product</h2>

  <form method="post" class="space-y-5">
    {% csrf_token %}

    <!-- Consignment Dropdown -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Consignment</label>
      <select name="consignment" required class="w-full border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-200">
        {% for consignment in consignments %}
          <option value="{{ consignment.id }}">{{ consignment }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Product Name -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Name</label>
      <input type="text" name="name" required class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring focus:ring-blue-200">
    </div>

    <!-- Acquiring Price -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Acquiring Price</label>
      <input type="number" step="0.01" name="acquiring_price" required class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring focus:ring-blue-200">
    </div>

    <!-- Selling Price -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Selling Price</label>
      <input type="number" step="0.01" name="selling_price" required class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring focus:ring-blue-200">
    </div>

    <!-- Quantity -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Quantity</label>
      <input type="number" name="quantity" required class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring focus:ring-blue-200">
    </div>

    <!-- Expiry Date -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Expiry Date</label>
      <input type="date" name="expiry_date" required class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring focus:ring-blue-200">
    </div>

    <!-- Description -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
      <textarea name="description" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring focus:ring-blue-200"></textarea>
    </div>

    <!-- Submit Button -->
    <div class="text-right">
      <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 shadow-sm">
        Add Product
      </button>
    </div>

  </form>
</div>

{% endblock %}
